# 津南数字制造算法挑战赛——赛场一：原料企业工艺优化 #

天津市津南区坚持以绿色经济驱动传统经济向数字化经济转型以实现津南高质量发展，正依托物联网、云计算、三网融合等新一代信息技术，加快全区智能工业全面发展，推动产业转型升级，培育新兴产业，实现“津南制造”向“津南智造”转变。天津津南希望广泛吸纳英才，助力天津当地企业数字化转型实践，提升当地企业在智能制造领域影响力。

2019津南数字制造算法挑战赛，聚焦智能制造，赛场一以原料企业工艺优化为课题，要求选手以异烟酸生产过程中的各参数，设计精确智能的优秀算法，提升异烟酸的收率，助力企业实现转型升级，提升行业竞争力。大赛数据提供方天津汉德威药业有限公司，为大赛提供真实生产数据，提供工艺专家的专业指导，从软硬件环境诸多方面提供大赛支撑。

### 三传一反：动量传递，热量传递，质量传递和化学反应 ###

质量传递说的是反应过程中浓度分布不均匀，于是就会发生扩散，当扩散过程很慢的时候，反应物不能充分接触，产物中就可能会混有反应物，收率指的是：反应物完全反应之后得到产物质量m1，反应物没有完全反应时得到产物质量m2，收率就是m2/m1。由于产物中可能会混有杂质，所以收率可能会大于1.

热量传递是说在一个很大的容器中（比如塔式反应器），温度分布不均匀（因为反应会放热，或者吸热），反应不再是在恒温的条件下进行的，当局部温度足够高时，会有一些意想不到的反应发生，于是就会有杂质。

动量传递说的是反应物不是静止不动的，它要在容器中流动，流动的驱动力是浓度差和温度差，结果是反应物和产物有均匀混合的趋势（但实际上是不可能完全均匀的）。

化学反应：初中就学过，这里提一下，应该是发生了很多个反应。

## 竞赛题目 ##

异烟酸用作医药中间体，主要用于制抗结核病药物异烟肼，也用于合成酰胺、酰肼、酯类等衍生物。烟酰胺生产过程包含水解脱色、结晶甩滤等过程。每个步骤会受到温度、时间、压强等各方面因素的影响，造成异烟酸收率的不稳定。为保证产品质量和提高生产效率，需要调整和优化生产过程中的参数。然而，根据传统经验的人工调整工艺参数费时费力。近年来，人工智能在工艺参数优化以及视频检测等领域取得了突飞猛进的成果。AI技术的发展有望助力原料药制造企业实现工艺生产革新，规范生产操作过程，从而达到提高产品的收率的目标。

本次大赛要求选手以异烟酸生产过程中的各参数，包括各主要步骤的时间、温度、压强等参数为基础，设计精确智能的优秀算法，提升异烟酸的收率。阿里云将为参赛选手提供机器资源，复赛团队可申请使用。

## 竞赛数据 ##

大赛包含有2000批次来自实际异烟酸生产中的各参数的监测指标和最终收率的数据。监测指标由两大工序数十个步骤构成。总生产步骤达30余项。我们将工序和步骤分别用字母和数字代号表示，比如A2，B5分别表示A工序第二步骤和B工序第五步骤。样例数据参考训练数据。


## 提交说明 ##

大赛要求选手通过使用生产过程的各参数，训练算法来预测最终异烟酸的收率，同时，选手还需给出生产过程的最优参数组合及最优参数情况下的收率。

- **初赛提交文件**：每批次异烟酸预测收率，选手提交csv格式。该文件由两列组成，第一列为异烟酸批次id，由赛题方提供；第二列为预测的异烟酸预测收率，以小数形式表示，建议保留小数点后三位。

- **复赛提交文件**： 复赛需要提供以下两份文件：

	1.  一份材料表示异烟酸最优参数组合及收率，为csv格式。该文件由两列组成，第一列为异烟酸生产工艺字段名称，内容必须来自于初赛训练文件的字段名，需要用到全量字段。第二列给出为对应字段的参数值。
	2. 提交生成1的代码，该代码必须能复现1的结果，该代码需要支持其他样本数据为输入。

## 评估指标 ##

### 初赛评估指标 ###

选手提交结果与实际检测到的收率结果进行对比，以均方误差为评价指标，结果越小越好，均方误差计算公式如下：mse 

其中m为总批次数，y'(i)为选手预测的第i批次的收率值，y(i)为第i批次的实际收率值。线上赛题分A，B，C三个阶段。其中A榜每天评测，B榜评测一次，C榜为隐式评测，即不提供评测数据，选手提交代码后，由工作人员统一运行代码生成结果。

初赛结果由B榜和C榜两次榜单最终排名序号简单相加，得到的最终值按照从小到大排序，并给出排名的序号，如序号相同，则C榜排名靠前的选手最终排名靠前。

### 复赛评估指标 ###
初赛最终排名前100的选手，需要提交线下材料，材料内容见提交说明：
复赛分为两个部分，每部分都会对选手进行排名：

1. 最优收率值：选手提供参数取值，使得收率值最高，要求除时间参数外的参数，取值范围必须在初赛所有数据集（含C榜，初赛结束后提供）的对应参数取值范围内。

2. 复赛新数据预测效果：复赛提供新数据，评估代码预测收率的效果，采用均方误差作为评价指标。

复赛结果由上述两个部分选手最终排名序号简单相加，得到的最终值按照从小到大排序，并给出排名的序号，如序号相同，则最优收率值排名靠前的选手最终排名靠前。

## 赛程安排 ##

本次大赛分为初赛、复赛和决赛三个阶段，具体安排和要求如下：

### 初赛（1月2日-1月21日，UTC+8） ###

1. 报名成功后，参赛队伍通过天池平台下载数据，本地调试算法，在线提交结果。若参赛队伍在一天内多次提交结果，新结果版本将覆盖旧版本。参赛地点不限。

2. 比赛提供标准训练数据集，供参赛选手训练算法模型；提供标准测试数据集，供参赛选手提交评测结果参与排名。

3. 初赛一阶段（A榜）：1月2日-1月20日。系统每天进行2次评测和排名，评测开始时间为当天12:00和22:00，按照评测指标从高到低进行排序，定时更新排行榜；排行榜将选择参赛队伍在本阶段的历史最优成绩进行排名展示。 （支付宝实名认证：要求1月20日12:00 前完成认证，认证入口：天池网站-个人中心-认证-支付宝实名认证） 

4. 初赛二阶段（B榜）：1月21日20:00。系统将在1月21日12:00更换测试数据（加密），参赛队伍需再次下载数据文件，17:00公布新数据集密码。本轮仅1次评测机会，系统将在20:00进行评测，并清空排行榜进行重新排名。

5. 初赛三阶段（C榜）：1月22-23日选手提交代码，该代码要求能复现B榜答案，不接受随机答案。同时该代码用于计算C榜测试数据的预测结果，并进行结果排名。C榜测试数据在C榜排名揭晓后公布。

6. 初赛截止时，组委会将对参赛队伍提交结果进行审核，并抽查部分队伍提交代码接受审核，识别并剔除有作弊嫌疑的队伍，晋级空缺名额后补。初赛成绩符合要求的排名前100名且通过支付宝实名认证的参赛队伍将进入复赛。

### 复赛（1月24日-1月31日，UTC+8 ） ###

复赛参赛队伍通过本地或在线调试算法并提交结果，同时提交代码，如果与初赛代码一致，则直接提交初赛代码。所有文件限提交一次

计算权重：初赛占比60%，复赛占比40%。例：复赛共有80组队伍提交结果，某选手在初赛排名第10，复赛排名20，则其总分数为（80-9）*0.6+（80-19）*0.4=67，分数越高排名越高，若分数一致，则以复赛排名高者为先。最终得分前5 组队伍将晋级决赛，

### 决赛（3月中旬，UTC+8 ） ###

1. 决赛将以现场答辩的形式进行，1）晋级决赛团队需提前准备答辩材料，包括答辩PPT、参赛总结、算法核心代码；2）决赛将邀请每支队伍2位代表参加，由组委会承担差旅费用 。具体安排另行通知。 

2. 答辩现场，每支队伍面对评委有15分钟的陈述时间和10分钟的问答时间。评委将根据选手的技术思路、理论深度和现场表现进行综合评分。 

3. 决赛分数将根据参赛队伍的算法成绩和答辩成绩加权得出。评分权重复赛公布。依据决赛分数评选出大赛奖项并举行隆重颁奖。 

